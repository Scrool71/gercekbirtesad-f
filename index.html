<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bizim Hikaye ğŸ’˜</title>
  <meta name="description" content="AÅŸaÄŸÄ± kaydÄ±rdÄ±kÃ§a bizim hikayemiz..." />
  <style>
    :root{
      --bg:#0b0b10;
      --card: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.12);
      --txt:#f5f5ff;
      --muted:#b8b8d6;
      --accent:#ff4fd8;
      --accent2:#7c5cff;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;width:100%;height:100%;overflow-x:hidden}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--txt);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(255,79,216,.25), transparent 60%),
        radial-gradient(900px 600px at 80% 15%, rgba(124,92,255,.22), transparent 55%),
        radial-gradient(900px 600px at 50% 90%, rgba(255,255,255,.06), transparent 55%),
        var(--bg);
    }

    /* BG hearts (floating) */
    .hearts-bg{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:0;}
    .bg-heart{
      position:absolute; bottom:-70px;
      opacity:0;
      filter: drop-shadow(0 10px 25px rgba(255,79,216,.15));
      animation: floatUp linear forwards;
      will-change: transform, opacity;
    }
    @keyframes floatUp{
      0%{ transform: translateY(0) translateX(0) scale(.85) rotate(0deg); opacity:0; }
      10%{ opacity:.55; }
      100%{ transform: translateY(-125vh) translateX(var(--drift, 0px)) scale(1.35) rotate(22deg); opacity:0; }
    }

    /* Click hearts */
    .pop-heart{
      position:fixed; left:0; top:0; pointer-events:none;
      animation: pop 900ms ease forwards;
      filter: drop-shadow(0 12px 28px rgba(255,79,216,.22));
      z-index: 9998;
      will-change: transform, opacity;
    }
    @keyframes pop{
      0%{ transform: translate(-50%,-50%) scale(.6); opacity:0; }
      15%{ opacity:1; }
      100%{ transform: translate(-50%,-140%) scale(1.45) rotate(12deg); opacity:0; }
    }

    /* Gate / Quiz modal */
    #gate{
      position:fixed; inset:0;
      display:grid; place-items:center;
      padding:24px;
      background: rgba(10,10,16,.72);
      backdrop-filter: blur(10px);
      z-index:9999;
    }
    .modal{
      width:min(720px, 100%);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:22px;
      position:relative;
      overflow:hidden;
    }
    .modal:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(520px 260px at 20% 20%, rgba(255,79,216,.35), transparent 55%),
        radial-gradient(520px 260px at 80% 30%, rgba(124,92,255,.35), transparent 55%);
      filter: blur(18px);
      opacity:.75;
      z-index:-1;
    }
    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border:1px solid var(--border);
      font-size:13px;
      color:var(--muted);
    }
    .heartIcon{
      width:18px; height:18px; display:inline-block;
      background: conic-gradient(from 180deg, var(--accent), var(--accent2));
      mask: radial-gradient(circle at 30% 35%, transparent 10px, #000 0) top left / 50% 50% no-repeat,
            radial-gradient(circle at 70% 35%, transparent 10px, #000 0) top right / 50% 50% no-repeat,
            linear-gradient(#000 0 0) bottom / 100% 60% no-repeat;
      border-radius:2px;
      transform: rotate(45deg);
    }
    h1{margin:14px 0 10px; font-size: clamp(22px, 3.2vw, 32px); line-height:1.05; letter-spacing:-.02em;}
    .muted{color:var(--muted); line-height:1.55}
    .tiny{margin-top:10px; font-size:12px; color:rgba(255,255,255,.55);}
    .actions{display:flex; gap:12px; margin-top:16px; flex-wrap:wrap;}
    button{
      border:0; padding:12px 16px;
      border-radius: 14px;
      cursor:pointer;
      font-weight:950;
      font-size:14px;
      transition: transform .08s ease, filter .2s ease, opacity .2s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active{transform: scale(.98)}
    .yes{background: linear-gradient(135deg, var(--accent), var(--accent2)); color:white; box-shadow: 0 14px 30px rgba(255,79,216,.18);}
    .no{background: rgba(255,255,255,.10); color:var(--txt); border:1px solid rgba(255,255,255,.14);}
    .ghost{background: rgba(255,255,255,.07); color:rgba(255,255,255,.9); border:1px solid rgba(255,255,255,.12);}

    .shake{animation: shake .35s ease}
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-8px)}
      40%{transform:translateX(8px)}
      60%{transform:translateX(-6px)}
      80%{transform:translateX(6px)}
    }

    /* quiz bits */
    .quizTop{display:flex; justify-content:space-between; gap:12px; align-items:center; flex-wrap:wrap;}
    .progressWrap{flex:1; min-width:220px; display:flex; align-items:center; gap:10px;}
    .bar{
      height:10px; flex:1;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.12);
      overflow:hidden;
    }
    .bar > span{
      display:block; height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      box-shadow: 0 0 24px rgba(255,79,216,.25);
      transition: width .35s ease;
    }
    .qBox{
      margin-top:14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      padding:16px;
    }
    .qTitle{font-size: 16px; font-weight:950; margin:0 0 6px;}
    .qSub{margin:0; color:rgba(255,255,255,.65); font-size:13px; line-height:1.5;}
    .resultText{
      font-size:18px;
      font-weight:950;
      margin: 8px 0 0;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }

    /* Page layout */
    .wrap{position:relative; z-index:1; width:min(1100px, 100%); margin:0 auto; padding:0 18px 90px;}
    header{
      min-height: 92vh;
      display:grid; place-items:center;
      padding: 90px 0 60px;
      text-align:center;
    }
    .title{
      font-size: clamp(34px, 5.2vw, 64px);
      line-height:1.02;
      margin: 0 0 12px;
      letter-spacing:-.03em;
    }
    .subtitle{
      margin: 0 auto;
      max-width: 760px;
      color: var(--muted);
      font-size: clamp(14px, 2.1vw, 18px);
      line-height: 1.6;
    }
    .scrollhint{
      margin-top: 26px;
      display:inline-flex;
      gap:10px; align-items:center;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border:1px solid var(--border);
      color: rgba(255,255,255,.75);
      font-size: 13px;
    }
    .dot{width:8px;height:8px;border-radius:999px;background: linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:0 0 20px rgba(255,79,216,.35);}

    main{display:flex; flex-direction:column; gap:18px;}
    .section{display:grid; grid-template-columns: 1.1fr .9fr; gap:18px; align-items:stretch;}
    @media (max-width: 860px){.section{grid-template-columns:1fr}}

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardInner{padding: 20px;}
    .card h2{margin:0 0 10px; font-size: 22px; letter-spacing:-.02em;}
    .pill{
      display:inline-flex; gap:10px; align-items:center;
      padding:8px 12px; border-radius:999px;
      background: rgba(255,255,255,.07);
      border:1px solid var(--border);
      color: var(--muted);
      font-size:12px;
      margin-bottom: 10px;
    }

    .photo{width:100%; min-height: 340px; position:relative; background:#0f0f15;}
    .photo img{width:100%; height:100%; min-height: 340px; object-fit: cover; display:block;}
    .photo:after{content:""; position:absolute; inset:0; background: linear-gradient(180deg, transparent 45%, rgba(0,0,0,.55)); pointer-events:none;}
    .caption{
      position:absolute; left:16px; right:16px; bottom:14px;
      z-index:1; color: rgba(255,255,255,.92);
      font-weight:950;
      text-shadow: 0 8px 20px rgba(0,0,0,.55);
    }

    .reveal{opacity:0; transform: translateY(18px); transition: opacity .75s ease, transform .75s ease;}
    .reveal.show{opacity:1; transform: translateY(0);}

    footer{padding: 26px 0 40px; text-align:center; color: rgba(255,255,255,.55); font-size: 13px;}

    /* Neon Spotify */
    .neonBox{
      position:relative;
      border-radius: 18px;
      padding: 16px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.14);
      overflow:hidden;
    }
    .neonBox:before{
      content:"";
      position:absolute; inset:-2px;
      background: conic-gradient(from 180deg, var(--accent), var(--accent2), var(--accent), var(--accent2));
      filter: blur(18px);
      opacity:.45;
      z-index:0;
    }
    .neonInner{
      position:relative;
      z-index:1;
      border-radius: 14px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
    }
    .softDivider{
      width:100%; height:1px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
      margin: 6px 0 22px;
    }

    /* Final question buttons */
    .finalQBtns{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:16px;}
    .finalMsg{margin-top:14px; font-weight:900; color:rgba(255,255,255,.88);}
    .finalMsg small{display:block; margin-top:6px; font-weight:700; color:rgba(255,255,255,.6);}

    /* Music pill */
    .musicPill{
      position: fixed; right: 14px; bottom: 14px; z-index: 9997;
      display:flex; gap:10px; align-items:center;
      padding: 10px 12px; border-radius: 999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      backdrop-filter: blur(8px);
      box-shadow: 0 14px 30px rgba(0,0,0,.25);
      cursor: pointer; user-select:none;
    }
    .musicDot{width:10px;height:10px;border-radius:999px;background: linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:0 0 18px rgba(255,79,216,.35);}
    .musicText{font-size: 13px; color: rgba(255,255,255,.85); font-weight:900;}
    .musicHint{font-size: 11px; color: rgba(255,255,255,.55); font-weight:800; margin-left: 4px;}

    /* Big celebration overlay */
    #celebrate{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      z-index:99999;
      background: rgba(10,10,16,.55);
      backdrop-filter: blur(8px);
    }
    .celebrateCard{
      width:min(720px, 92vw);
      border-radius: 26px;
      padding: 28px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      box-shadow: 0 30px 90px rgba(0,0,0,.45);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .celebrateCard:before{
      content:"";
      position:absolute; inset:-2px;
      background: conic-gradient(from 180deg, var(--accent), var(--accent2), var(--accent));
      filter: blur(22px);
      opacity:.35;
    }
    .celebrateInner{position:relative; z-index:1;}
    .celebrateTitle{
      margin:0 0 10px;
      font-size: clamp(22px, 4vw, 36px);
      font-weight:1000;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .celebrateSub{margin:0; color:rgba(255,255,255,.75); line-height:1.55; font-weight:800;}
  </style>
</head>

<body>
  <audio id="bgMusic" src="dktdilerim.mp3" loop></audio>
  <div class="hearts-bg" id="heartsBg"></div>

  <!-- Celebration overlay -->
  <div id="celebrate">
    <div class="celebrateCard">
      <div class="celebrateInner">
        <div class="badge" style="justify-content:center;"><span class="heartIcon"></span> Resmi olarak: BÄ°Z ğŸ’</div>
        <h2 class="celebrateTitle">Evet sevgilimâ€¦</h2>
        <p class="celebrateSub">Tamam. O zaman her yerde kalpler patlÄ±yor.<br>Ve ben seni daha Ã§ok seviyorum.</p>
      </div>
    </div>
  </div>

  <!-- Gate / Quiz -->
  <div id="gate" aria-hidden="false">
    <div class="modal" id="modal">
      <div class="quizTop">
        <div class="badge"><span class="heartIcon"></span> AÅŸk & Sevgililik SÃ¶zleÅŸmesi</div>
        <div class="progressWrap">
          <div class="bar" aria-label="Ä°lerleme"><span id="barFill"></span></div>
          <div class="badge" id="stepText" style="padding:8px 12px;">0/20</div>
        </div>
      </div>

      <h1 id="gateTitle">HazÄ±rsan baÅŸlayalÄ±mâ€¦</h1>
      <p class="muted" id="gateText">
        Bu mini sÃ¶zleÅŸme: iletiÅŸim, gÃ¼ven, sorumluluk ve â€œbizâ€ olabilme Ã¼zerine.
        20 soruya iÃ§inden geldiÄŸi gibi <b>Evet/HayÄ±r</b> de. ğŸ’˜
      </p>

      <div class="qBox" id="qBox" style="display:none;">
        <p class="qTitle" id="qTitle">Soru</p>
        <p class="qSub" id="qSub">Alt aÃ§Ä±klama</p>
      </div>

      <div class="actions" id="startActions">
        <button class="yes" id="btnStart">HazÄ±rsan BaÅŸla âœ¨</button>
        <button class="ghost" id="btnPeek">SÃ¶zleÅŸmeyi oku</button>
      </div>

      <div class="actions" id="qaActions" style="display:none;">
        <button class="yes" id="btnYes">Evet âœ…</button>
        <button class="no" id="btnNo">HayÄ±r ğŸ™ƒ</button>
      </div>

      <div class="actions" id="endActions" style="display:none;">
        <button class="yes" id="btnEnter">Siteye geÃ§ ğŸ’</button>
      </div>

      <div class="tiny" id="tinyNote">* Siteye geÃ§ince mÃ¼zik baÅŸlar, kalpler uÃ§uÅŸur, hikaye akar.</div>
    </div>
  </div>

  <!-- Page -->
  <div class="wrap">
    <header class="reveal">
      <div>
        <h2 class="badge" style="justify-content:center;"><span class="dot"></span> Bizim Hikayemiz</h2>
        <h1 class="title">Sen + Ben = <span style="background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent;">en tatlÄ± tesadÃ¼f</span></h1>
        <p class="subtitle">AÅŸaÄŸÄ± kaydÄ±râ€¦ Her bÃ¶lÃ¼mde bir anÄ±, bir foto, bir cÃ¼mle.</p>
        <div class="scrollhint"><span class="dot"></span> AÅŸaÄŸÄ± kaydÄ±r</div>
      </div>
    </header>

    <main>
      <!-- 1 -->
      <section class="section reveal">
        <div class="card">
          <div class="cardInner">
            <div class="pill">ğŸ“ BÃ¶lÃ¼m 1 â€¢ TanÄ±ÅŸma</div>
            <h2>Ä°lk gÃ¼nâ€¦ â€œbu kÄ±z baÅŸkaâ€ dediÄŸim an</h2>
            <p class="muted">Buraya kÄ±sa bir anÄ± yaz: nerede tanÄ±ÅŸtÄ±nÄ±z, ilk ne hissettin, aklÄ±nda kalan detay ne?</p>
          </div>
        </div>
        <div class="card">
          <div class="photo">
            <img src="1.jpg" alt="Foto 1">
            <div class="caption">â€œO gÃ¼n baÅŸladÄ± her ÅŸey.â€</div>
          </div>
        </div>
      </section>

      <!-- 2 -->
      <section class="section reveal">
        <div class="card">
          <div class="photo">
            <img src="2.png" alt="Foto 2">
            <div class="caption">Ä°lk buluÅŸma vibes âœ¨</div>
          </div>
        </div>
        <div class="card">
          <div class="cardInner">
            <div class="pill">â˜• BÃ¶lÃ¼m 2 â€¢ Ä°lk BuluÅŸma</div>
            <h2>â€œÅuraya gidelimâ€ dediÄŸin an ben tamamÄ±m</h2>
            <p class="muted">MekÃ¢n, ÅŸarkÄ±, kahkaha, ufak bir komik anâ€¦ buraya yaz.</p>
          </div>
        </div>
      </section>

      <!-- 3 -->
      <section class="section reveal">
        <div class="card">
          <div class="cardInner">
            <div class="pill">ğŸ“¸ BÃ¶lÃ¼m 3 â€¢ AnÄ±lar</div>
            <h2>En sevdiÄŸim 3 ÅŸey</h2>
            <p class="muted">1) GÃ¼lÃ¼ÅŸÃ¼n</p>
            <p class="muted">2) YanÄ±mdayken dÃ¼nyanÄ±n susmasÄ±</p>
            <p class="muted">3) â€œBizâ€ olmayÄ± becermemiz</p>
          </div>
        </div>
        <div class="card">
          <div class="photo">
            <img src="3.jpg" alt="Foto 3">
            <div class="caption">â€œSeninle her yer gÃ¼zel.â€</div>
          </div>
        </div>
      </section>

      <!-- Spotify neon final -->
      <section class="reveal" style="margin-top:80px;">
        <div class="card" style="padding:26px; text-align:center;">
          <div class="softDivider"></div>
          <div class="pill">ğŸ§ Bizim Playlist</div>
          <h2 style="margin:10px 0 8px;">Senin iÃ§in</h2>
          <p class="muted" style="margin:0 0 18px;">BazÄ± ÅŸarkÄ±lar vardÄ±r, bir kiÅŸiyi anlatÄ±r.</p>

          <div class="neonBox">
            <div class="neonInner">
              <iframe
                style="border-radius:12px; display:block;"
                src="https://open.spotify.com/embed/playlist/1boWGmNw2Le5o8KSrJMmBQ?utm_source=generator"
                width="100%"
                height="352"
                frameborder="0"
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"></iframe>
            </div>
          </div>

          <!-- Final question after spotify -->
          <div class="softDivider" style="margin-top:26px;"></div>
          <div class="pill">âœ… GerÃ§ekler</div>
          <h2 style="margin:10px 0 8px;">Benimle birlikte hayata deÄŸer katmaya var mÄ±sÄ±n?</h2>
          <p class="muted" style="margin:0 0 10px;">
            Son soru bu. CevabÄ±n ne olursa olsun, ben seni hep tatlÄ± hatÄ±rlayacaÄŸÄ±m.
          </p>

          <div class="finalQBtns" id="finalBtns">
            <button class="yes" id="finalYes">Evet sevgilim ğŸ’</button>
            <button class="no" id="finalNo">HayÄ±r</button>
          </div>

          <div class="finalMsg" id="finalMsg" style="display:none;"></div>

          <p class="muted" style="margin:18px 0 0; font-weight:800;">â€” Senin iÃ§in ğŸ’˜</p>
        </div>
      </section>
    </main>

    <footer class="reveal">Made with ğŸ’–</footer>
  </div>

  <div class="musicPill" id="musicPill" title="MÃ¼zik AÃ§/Kapat">
    <span class="musicDot"></span>
    <div>
      <div class="musicText" id="musicText">MÃ¼zik: KapalÄ±</div>
      <div class="musicHint" id="musicHint">Siteye geÃ§ince baÅŸlar</div>
    </div>
  </div>

  <script>
    // Elements
    const gate = document.getElementById('gate');
    const modal = document.getElementById('modal');

    const gateTitle = document.getElementById('gateTitle');
    const gateText  = document.getElementById('gateText');

    const qBox = document.getElementById('qBox');
    const qTitle = document.getElementById('qTitle');
    const qSub = document.getElementById('qSub');

    const startActions = document.getElementById('startActions');
    const qaActions = document.getElementById('qaActions');
    const endActions = document.getElementById('endActions');

    const btnStart = document.getElementById('btnStart');
    const btnPeek = document.getElementById('btnPeek');
    const btnYes = document.getElementById('btnYes');
    const btnNo = document.getElementById('btnNo');
    const btnEnter = document.getElementById('btnEnter');

    const barFill = document.getElementById('barFill');
    const stepText = document.getElementById('stepText');
    const tinyNote = document.getElementById('tinyNote');

    const bgMusic = document.getElementById('bgMusic');
    const musicPill = document.getElementById('musicPill');
    const musicText = document.getElementById('musicText');
    const musicHint = document.getElementById('musicHint');

    // Final question elements
    const finalYes = document.getElementById('finalYes');
    const finalNo = document.getElementById('finalNo');
    const finalBtns = document.getElementById('finalBtns');
    const finalMsg = document.getElementById('finalMsg');

    const celebrate = document.getElementById('celebrate');

    // Lock scroll while gate open
    document.body.style.overflowY = 'hidden';

    // Reveal
    const revealEls = Array.from(document.querySelectorAll('.reveal'));
    const io = new IntersectionObserver((entries) => {
      for (const e of entries){
        if (e.isIntersecting){
          e.target.classList.add('show');
          io.unobserve(e.target);
        }
      }
    }, {threshold: 0.12});
    function revealAll(){ revealEls.forEach(el => io.observe(el)); }
    revealAll();

    // BG hearts (floating)
    const heartsBg = document.getElementById('heartsBg');
    const heartChars = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’","â¤ï¸","ğŸ©·"];

    function spawnBgHeart(){
      const h = document.createElement('div');
      h.className = 'bg-heart';
      h.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
      const left = Math.random()*100;
      const dur = 7 + Math.random()*6;
      const size = 14 + Math.random()*22;
      const drift = (Math.random()*2-1) * 160;
      h.style.left = left + 'vw';
      h.style.animationDuration = dur + 's';
      h.style.fontSize = size + 'px';
      h.style.setProperty('--drift', drift + 'px');
      heartsBg.appendChild(h);
      setTimeout(() => h.remove(), (dur+0.5)*1000);
    }
    setInterval(spawnBgHeart, 420);

    // Click hearts (after entering)
    function popHeartsAt(x,y,count=8){
      for (let i=0;i<count;i++){
        const ph = document.createElement('div');
        ph.className = 'pop-heart';
        ph.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
        const jitterX = (Math.random()*2-1)*34;
        const jitterY = (Math.random()*2-1)*22;
        ph.style.left = (x + jitterX) + 'px';
        ph.style.top  = (y + jitterY) + 'px';
        ph.style.fontSize = (14 + Math.random()*22) + 'px';
        document.body.appendChild(ph);
        setTimeout(() => ph.remove(), 950);
      }
    }

    window.addEventListener('click', (e) => {
      if (gate.style.display !== 'none') return;
      popHeartsAt(e.clientX, e.clientY, 6);
    });

    // Music UI
    function setMusicUI(isOn){
      musicText.textContent = "MÃ¼zik: " + (isOn ? "AÃ§Ä±k" : "KapalÄ±");
      musicHint.textContent = isOn ? "Kapatmak iÃ§in tÄ±kla" : "AÃ§mak iÃ§in tÄ±kla";
    }
    setMusicUI(false);

    // Quiz questions (20)
    const questions = [
      { q:"Zor konularÄ± bile kÄ±rmadan konuÅŸabileceÄŸimize inanÄ±yor musun?", s:"Ä°letiÅŸim: tartÄ±ÅŸmak deÄŸil, Ã§Ã¶zmek." },
      { q:"GÃ¼venin â€˜kontrolâ€™ deÄŸil, â€˜rahatlÄ±kâ€™ olduÄŸuna katÄ±lÄ±yor musun?", s:"KÄ±skanÃ§lÄ±k yerine ÅŸeffaflÄ±k." },
      { q:"Hatalarda â€˜Ã¶zÃ¼râ€™ ve â€˜telafiâ€™nin kÄ±ymetli olduÄŸuna inanÄ±yor musun?", s:"KÄ±rmak kolay, onarmak deÄŸer." },
      { q:"Ailelerle sÄ±nÄ±r ve saygÄ±yÄ± beraber kurabilir miyiz?", s:"Biz bir takÄ±mÄ±z, dÄ±ÅŸ dÃ¼nya ikinci." },
      { q:"Para konularÄ±nÄ± aÃ§Ä±kÃ§a konuÅŸmaya var mÄ±sÄ±n?", s:"BÃ¼tÃ§e, hedef, birikim â€” netlik huzur." },
      { q:"Zor gÃ¼nlerde birbirimizi â€˜taÅŸÄ±mayÄ±â€™ gÃ¶ze alÄ±r mÄ±yÄ±z?", s:"BugÃ¼n sen, yarÄ±n ben." },
      { q:"Birbirimizin hayallerini ciddiye alÄ±p destekler miyiz?", s:"KÃ¼Ã§Ã¼k bir â€˜hadiâ€™ bile hayat deÄŸiÅŸtirir." },
      { q:"Ev dÃ¼zeni/iÅŸ bÃ¶lÃ¼mÃ¼ gibi ÅŸeyleri adilce paylaÅŸmaya var mÄ±sÄ±n?", s:"â€˜YardÄ±mâ€™ deÄŸil, ortak sorumluluk." },
      { q:"TartÄ±ÅŸmada baÄŸÄ±rmak yerine ara verip sakinleÅŸebilir miyiz?", s:"Mola = kaÃ§mak deÄŸil, saygÄ±." },
      { q:"SÄ±nÄ±rlarÄ±mÄ±zÄ± (telefon/Ã¶zel alan/arkadaÅŸlar) saygÄ±yla korur muyuz?", s:"Sevgi, boÄŸmak deÄŸil." },
      { q:"Ä°yi gÃ¼nde eÄŸlenip kÃ¶tÃ¼ gÃ¼nde kenetlenmeye tamam mÄ±sÄ±n?", s:"Mutluluk da, kriz de paylaÅŸÄ±nca gÃ¼zel." },
      { q:"Birbirimizi â€˜dÃ¼zeltmekâ€™ yerine â€˜anlamayÄ±â€™ dener miyiz?", s:"MÃ¼kemmel deÄŸil, gerÃ§ek." },
      { q:"Kariyer/ÅŸehir/taÅŸÄ±nma gibi kararlarÄ± birlikte planlar mÄ±yÄ±z?", s:"Ben deÄŸil, biz." },
      { q:"SaÄŸlÄ±k ve dinlenme konularÄ±nda birbirimizi koruruna girer miyiz?", s:"Sevgi bazen â€˜kendine dikkat etâ€™ demektir." },
      { q:"Romantizmi kÃ¼Ã§Ã¼k ÅŸeylerle bile canlÄ± tutar mÄ±yÄ±z?", s:"Not, mesaj, sarÄ±lma â€” hepsi sayÄ±lÄ±r." },
      { q:"SorunlarÄ± biriktirmeden konuÅŸmayÄ± dener misin?", s:"Susmak bÃ¼yÃ¼tÃ¼r." },
      { q:"YalanÄ±n â€˜kÃ¼Ã§Ã¼ÄŸÃ¼ bÃ¼yÃ¼ÄŸÃ¼â€™ olmadÄ±ÄŸÄ±na katÄ±lÄ±r mÄ±sÄ±n?", s:"GÃ¼ven bir kere kÄ±rÄ±lÄ±rsa zor." },
      { q:"KÄ±rÄ±ldÄ±ÄŸÄ±nda aÃ§Ä±kÃ§a sÃ¶yleyebilir misin?", s:"Kalp okumak yok, netlik var." },
      { q:"Birlikte hedef koyup adÄ±m adÄ±m yÃ¼rÃ¼meye var mÄ±sÄ±n?", s:"Plan = huzur." },
      { q:"En Ã¶nemlisi: Beni â€˜evâ€™ gibi hissediyor musun?", s:"Bir insanÄ±n en gÃ¼zel yeri bazen bir insanÄ±n iÃ§idir." },
    ];

    let idx = -1;
    let peeked = false;

    function updateProgress(){
      const total = questions.length;
      const shown = idx < 0 ? 0 : Math.min(total, idx + 1);
      const pct = idx < 0 ? 0 : Math.round((shown / total) * 100);
      barFill.style.width = pct + "%";
      stepText.textContent = shown + "/" + total;
    }

    function showContractText(){
      modal.classList.remove('shake'); void modal.offsetWidth; modal.classList.add('shake');
      gateTitle.textContent = "SÃ¶zleÅŸme (kÄ±sa ve net) ğŸ’";
      gateText.innerHTML =
        "1) SaygÄ± <b>her zaman</b>.<br>" +
        "2) Ä°letiÅŸim: susup biriktirmek yok.<br>" +
        "3) GÃ¼ven: ÅŸeffaflÄ±k + sadakat.<br>" +
        "4) Sorun = birlikte Ã§Ã¶zÃ¼lecek ÅŸey.<br>" +
        "5) Biz: aynÄ± takÄ±m, aynÄ± hedef.<br><br>" +
        "HazÄ±rsan sorulara geÃ§elim.";
      btnStart.textContent = "BaÅŸlayalÄ±m âœ¨";
      peeked = true;
    }

    function startQuiz(){
      idx = 0;
      startActions.style.display = "none";
      qaActions.style.display = "flex";
      qBox.style.display = "block";
      renderQuestion();
    }

    function renderQuestion(){
      updateProgress();
      const total = questions.length;

      if (idx >= total){
        qaActions.style.display = "none";
        endActions.style.display = "flex";
        qBox.style.display = "block";
        gateTitle.textContent = "Bitti ğŸ’˜";
        qTitle.textContent = "Her ÅŸÄ±k seni bana Ã§Ä±kartÄ±yordu :)";
        qSub.textContent = "Åimdi â€˜Siteye geÃ§â€™e basâ€¦ hikayemiz baÅŸlÄ±yor.";
        tinyNote.textContent = "* Siteye geÃ§ince mÃ¼zik baÅŸlar ğŸ˜Œ";
        return;
      }

      const item = questions[idx];
      gateTitle.textContent = "AÅŸk & Sevgililik SÃ¶zleÅŸmesi";
      qTitle.textContent = item.q;
      qSub.textContent = item.s;
      tinyNote.textContent = (idx+1) + ". soru â€¢ Ä°Ã§inden geldiÄŸi gibi iÅŸaretle";
    }

    function answer(){
      modal.classList.remove('shake'); void modal.offsetWidth; modal.classList.add('shake');
      idx++;
      renderQuestion();
    }

    function enterSite(){
      gate.style.display = 'none';
      document.body.style.overflowY = 'auto';
      window.scrollTo({top:0, behavior:'instant'});

      // start music
      bgMusic.volume = 0.6;
      bgMusic.play().then(()=>setMusicUI(true)).catch(()=>setMusicUI(false));

      revealAll();
    }

    btnPeek.addEventListener('click', showContractText);
    btnStart.addEventListener('click', startQuiz);
    btnYes.addEventListener('click', answer);
    btnNo.addEventListener('click', answer);
    btnEnter.addEventListener('click', enterSite);

    // Music toggle
    musicPill.addEventListener('click', async () => {
      if (gate.style.display !== 'none'){
        modal.classList.remove('shake'); void modal.offsetWidth; modal.classList.add('shake');
        tinyNote.textContent = "Ã–nce sÃ¶zleÅŸme ğŸ˜Œ (Siteye geÃ§ince mÃ¼zik baÅŸlar)";
        return;
      }
      if (!bgMusic.paused){
        bgMusic.pause();
        setMusicUI(false);
      } else {
        try{ bgMusic.volume = 0.6; await bgMusic.play(); setMusicUI(true); }
        catch(e){ setMusicUI(false); }
      }
    });

    // Final question logic
    let loveLoop = null;
    function startLoveExplosion(){
      celebrate.style.display = "grid";
      finalBtns.style.display = "none";
      finalMsg.style.display = "block";
      finalMsg.innerHTML = "TAMAMDIR. ArtÄ±k kalpler her yerde. ğŸ’˜<small>(Bu ekranÄ± kapatmak istersen sayfayÄ± yenile ğŸ˜„)</small>";

      // constant heart pops everywhere
      if (loveLoop) clearInterval(loveLoop);
      loveLoop = setInterval(() => {
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        popHeartsAt(x, y, 10);
      }, 140);
    }

    function denyMessage(){
      finalBtns.style.display = "none";
      finalMsg.style.display = "block";
      finalMsg.textContent = "Kusura bakma sadece denemek istedim";
    }

    finalYes.addEventListener('click', () => {
      startLoveExplosion();
    });

    finalNo.addEventListener('click', () => {
      denyMessage();
    });

    // Init
    updateProgress();
  </script>
</body>
</html>
